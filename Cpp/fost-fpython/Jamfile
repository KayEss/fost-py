using testing ;

fost-exe fpython
    :
        ../../../Boost//boost-python-dll
        /python//python
        ../fost-pyhost/
        ../fost-python/
        fpython.cpp
    ;


rule run-fpython-execute ( runrule : testname ) {
    local testfile = $(testname) ".py" ;
    local fullname = "fpython-run-" $(testname) ;
    $(runrule) fpython
        :
        :
            $(testfile:J)
        :
        :
            $(fullname:J)
        ;
}

rule run-fpython-fail ( testname ) {
    run-fpython-execute run-fail : $(testname) ;
}

rule run-fpython ( testname ) {
    run-fpython-execute  run : $(testname) ;
}

run-fpython test01 ;
run-fpython test02 ;
run-fpython-fail test03 ;
